<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Styles/style-main.css">
    <link rel="stylesheet" href="../Styles/store.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    
    <script src="https://kit.fontawesome.com/bc12f67c88.js" crossorigin="anonymous"></script>
    <title>Store</title>
    
</head>
<body>
    <section class="store">
        <div class="header-main">
            <div class="container">
              <a href="#" class="header-logo">
                <img src="../Images/logo.jpg"
                  alt="logo" width="95" height="53" onclick="toggleSection1('banner')">
              </a>
              <div class="header-search-container">
                <ul class="desktop-menu-category-list">
                  <li class="menu-category">
                    <a href="../Home/main.html" class="menu-title active">Home</a>
                  </li>
                  <li class="menu-category">
                    <a href="../Pages/about_us.html" class="menu-title">About Us</a>
                  </li>
                  <li class="menu-category">
                    <a href="store.html" class="menu-title">Store</a>
                  </li>
                  <li class="menu-category">
                    <a href="../Pages/contact.html" class="menu-title">Contact Us</a>
                  </li>
                </ul>
              </div>
              <div class="header-user-actions">
                <button class="login" onclick="toLogin()">
                  Login/Signup
                </button>
                <button class="action-btn" id="cart_1" onclick="toCart()">
                  <ion-icon name="bag-handle-outline"></ion-icon>
                  <span class="count" id="cart-count">0</span>
                </button>
              </div>
            </div>
          </div>
       
    </section>
    <section class="product-section">
        <div class="product-section">
            <div class="container">
                <div class="rows">
                    <h2>Products</h2>
                    <div class="pro-row">
                        <div class="product-card">
                            <img src="../Images/about_image.jpg" alt="Almond">
                            <h3>Almond</h3>
                            <p>$20</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dates.jpg" alt="Dates">
                            <h3>Dates</h3>
                            <p>$25</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dry_one.jpg" alt="">
                            <h3>Pista</h3>
                            <p>$20</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dates.jpg" alt="Dates">
                            <h3>Dates</h3>
                            <p>$25</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                    </div>
                    <div class="pro-row">
                        <div class="product-card">
                            <img src="../Images/about_image.jpg" alt="Almond">
                            <h3>Almond</h3>
                            <p>$20</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dates.jpg" alt="Dates">
                            <h3>Dates</h3>
                            <p>$25</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dry_one.jpg" alt="">
                            <h3>Pista</h3>
                            <p>$20</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dates.jpg" alt="Dates">
                            <h3>Dates</h3>
                            <p>$25</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                    </div>
                    <div class="pro-row">
                        <div class="product-card">
                            <img src="../Images/about_image.jpg" alt="Almond">
                            <h3>Almond</h3>
                            <p>$20</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dates.jpg" alt="Dates">
                            <h3>Dates</h3>
                            <p>$25</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dry_one.jpg" alt="">
                            <h3>Pista</h3>
                            <p>$20</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                        <div class="product-card">
                            <img src="../Images/dates.jpg" alt="Dates">
                            <h3>Dates</h3>
                            <p>$25</p>
                            <button onclick="addToCart(this)">Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script>
        // Function to initialize the cart count when the page loads
        window.addEventListener('DOMContentLoaded', function() {
            updateCartCount();
        });
    
        // Update the cart count to the number of items added in the cart
        function updateCartCount() {
            // Retrieve cart items from local storage
            var cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Calculate the total number of items in the cart
            var totalCount = cartItems.reduce((total, item) => total + item.quantity, 0);
    
            // Update the cart count in the header
            var cartCount = document.getElementById('cart-count');
            if (cartCount) {
                cartCount.textContent = totalCount;
            }
        }
        
        // Add to Cart Function
        function addToCart(button) {
            // Retrieve cart items from local storage
            var cartItems = JSON.parse(localStorage.getItem('cart')) || [];
        
            // Traverse the DOM to find the product information related to the clicked button
            var productCard = button.closest('.product-card');
            var productName = productCard.querySelector('h3');
            var productPrice = productCard.querySelector('p');
            var productImage = productCard.querySelector('img');
        
            // Check if all required elements are found
            if (productName && productPrice && productImage) {
                // Create an object to store product information
                var product = {
                    id: cartItems.length + 1, // Generate a unique ID
                    name: productName.textContent,
                    price: productPrice.textContent,
                    image: productImage.src,
                    quantity: 1 // Set default quantity to 1
                };
        
                // Add product to cart
                cartItems.push(product);
        
                // Store updated cart in local storage
                localStorage.setItem('cart', JSON.stringify(cartItems));
        
                // Update the cart count in the header
                updateCartCount();
        
                // Redirect to cart.html
                window.location.href = "addtocart.html";
            } else {
                console.error('Product information not found.');
            }
        }
    </script>
    
    
    
</body>
</html>
